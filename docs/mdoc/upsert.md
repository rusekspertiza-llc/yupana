---
id: upsert
title: UPSERT
---

Операция UPSERT позволяет добавлять данные в таблицы или заменять уже имеющиеся данные.

> Важно понимать что UPSERT следует использовать только при добавлении небольшого количества данных,
> а для массовой вставки данных рекомендуется использовать API `TSDB`.


При вставке данных необходимо заполнить данные всех размерностей, время и необходимые измерения.

```sql
UPSERT INTO kkm_items(kkmId, item, operation_type, position, time, sum, quantity)
   VALUES ('12345', 'Пряник тульский', '1', '1', TIMESTAMP '2020-01-10 16:02:30', 100, 1)
```

Можно добавлять одновременно несколько значений:

```sql
UPSERT INTO kkm_items(kkmId, item, operation_type, position, time, sum, quantity) VALUES
   ('12345', 'Пряник тульский', '1', '1', TIMESTAMP '2020-01-10 16:02:30', 300, 5),
   ('12345', 'Чай индийский', '1', '1', TIMESTAMP '2020-01-10 16:02:30', 100, 1)
```

